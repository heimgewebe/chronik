{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://metarepo.example.com/contracts/insights.daily.schema.json",
  "$comment": "Canonical source lives in metarepo/contracts/insights.daily.schema.json; this file is a mirror.",
  "title": "Insights Daily Artifact",
  "type": "object",
  "required": ["ts", "topics", "questions", "deltas", "source", "metadata"],
  "properties": {
    "ts": {
      "type": "string",
      "format": "date"
    },
    "topics": {
      "type": "array"
    },
    "questions": {
      "type": "array"
    },
    "deltas": {
      "type": "array"
    },
    "source": {
      "type": "string"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "generated_at": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": ["generated_at"]
    }
  },
  "additionalProperties": false
}
